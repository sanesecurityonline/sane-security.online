---
title: "Двуфакторна автентикация"
slug: "двуфакторна-автентикация"
date: 2018-03-24T21:03:00+02:00
draft: false
---

> TODO "Двуфакторно удостоверяване"?

Термина "двуфакторна автентикация" ("two-factor authentication") често се съкращава до "2FA". Това описва широк набор от начини за допълнително подсигуряване на акаунта ви в някакъв сайт.

Обикновено, сайтовете изискват потребителско име или мейл адрес и парола. Ако сайта поддържа 2FA, може *освен* тези идентификатори да се изисква нещо допълнително. Това означава, че дори някой да се сдобие с паролата ви, няма да може да влезе в сайта с вашата идентичност.

## Защо "двуфакторна"?

Начина една система да бъде отворена само за нас е като забраним достъпа за всички, които не могат да предоставят някакъв ключ. Това се отнася както за вратата на апартамент, за сейфовете в банка, също и за сайтове, които държат вашата информация.

"Ключа" може да влиза в една от три категории:

* Нещо, което **знаеш**: парола, ПИН код, специален жест.
* Нещо, което **притежаваш**: физически ключ, токен устройство, телефон.
* Нещо, което **си**: пръстов отпечатък, характеристиката на ретината, формата на лицето.

Тези методи за автентикация имат различни характеристики. Физически ключ може да се изгуби или открадне, докато парола, която се помни, няма как. За сметка на това, ключа може да се намери, но парола, която вече е научена, няма как да се върне обратно, понеже е просто знание. Биометричните данни като пръстови отпечатъци не могат да се откраднат лесно, но за сметка на това, ако някой намери отпечатъците ни и ги копира, няма как да ги сменим, за разлика от една парола.

Автентикацията, която използва два **различни** фактора, е доста по-сигурна, понеже има два напълно различни метода за разбиването ѝ. Ако за онлайн банкиране има нужда от парола и от токен устройство, тогава дори някой да го открадне, само с него не може да направи нищо лошо. А ако някой прихване паролата ни, чрез, например, [фишинг]({{< ref "phishing.md">}}) атака, тя няма да е достатъчна за да източи пари, без да има устройството.

Важно е обаче факторите да са различни. Ако имате парола и физическо устройство, и си запишете паролата на бележка, която оставите *до* устройството, това свежда и двете неща до "нещо, което притежавате", и то дори на едно и също място. Така е изключително удобно, но много увеличава риска ако някой крадец разбие дома ви -- би имал пълен достъп до всичките ви финанси.

## Често срещани комбинации

Банките редовно използват "токен устройства". Това, което се ползва от ПИБ, например, изглежда така:

![token device](/images/two-factor-authentication/token-device.jpg)

Когато искаме да направим транзакция, първо трябва да влезем в сайта им за онлайн банкиране, който е защитен с парола (нещо, което знаем). След това, описваме транзакцията, и сайта ни пита за код от устройството (нещо, което притежаваме). Натискаме бутонче, и то показва кода, който ще е валиден няколко секунди. ПИБ имат подобно устройство от "другата страна" на сайта, което генерира същия код по същото време. Ако някой няма това устройство, няма как да познае кода.

В някои банки, а също и ако активираме 2FA за фейсбук, вариант е кода да се изпрати по SMS или чрез специален app. Механизма е същия -- телефона е "нещо, което притежаваме". По-удобно е, понеже няма нужда да купуваме и поддържаме отделно устройство. SMS-ите обаче може да са несигурни в случай на Man-in-the-middle атака. Това обаче е ситуация, която е сравнително малко вероятна за повечето хора (вижте статията ни за [моделиране на заплахи]({{< ref "threat-modeling.md">}}) за размисли по темата).

*Странична бележка: Ако не сте активирали 2FA за фейсбук, ето статия по въпроса: https://www.facebook.com/help/148233965247823. Може да смените езика на български в долния ляв ъгъл на страницата.*

Кредитната или дебитната карта са интересни примери за обратното -- една карта е нещо, което притежаваме. Ако някой я открадне, би могъл да купува неща през нея вместо нас. Затова Visa имат система, която се казва "Verified by Visa", като общото название е "3-D-Secure". Когато това е активирано за картата, онлайн плащанията ще ви питат за допълнителна парола (нещо, което знаете).

## Недостатъци

TODO

* Неудобство
* Workaround-и към неудобството
* Несигурност на SMS-ите?

## Обобщение и свързани теми

TODO
